<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxmox Server - Hardware & System Design</title>
    <link rel="stylesheet" href="../../styles.css">
    <style>
        /* Timeline-Style with Image Placeholders */
        .section-card {
            background: #ffffff;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        }

        .section-card h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #1d1d1f;
            border-bottom: 2px solid #f5f5f7;
            padding-bottom: 0.5rem;
        }

        .section-card h3 {
            font-size: 1.2rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: #0071e3;
        }

        .section-card ul {
            list-style: none;
            padding-left: 0;
        }

        .section-card li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .section-card li:before {
            content: "→";
            position: absolute;
            left: 0;
            color: #0071e3;
            font-weight: bold;
        }

        .project-details {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .content-block {
            margin-bottom: 3rem;
            padding-left: 2rem;
            border-left: 3px solid #e5e5e7;
            position: relative;
        }

        .content-block:before {
            content: "";
            position: absolute;
            left: -9px;
            top: 0;
            width: 15px;
            height: 15px;
            background: #0071e3;
            border-radius: 50%;
            border: 3px solid #ffffff;
            box-shadow: 0 0 0 2px #e5e5e7;
        }

        .content-block h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #1d1d1f;
        }

        .content-block h3 {
            font-size: 1.15rem;
            margin-top: 1.25rem;
            margin-bottom: 0.5rem;
            color: #0071e3;
            font-weight: 500;
        }

        .screenshot-placeholder {
            width: 100%;
            height: 400px;
            border-radius: 8px;
            margin: 1.5rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6e6e73;
            font-size: 0.9rem;
            overflow: hidden;
        }

        .screenshot-placeholder img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .image-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .image-grid .screenshot-placeholder {
            margin: 0;
            height: 250px;
        }

        @media (max-width: 600px) {
            .image-grid {
                grid-template-columns: 1fr;
            }
        }

        .btn-next-milestone {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: #0071e3;
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            border-radius: 980px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 113, 227, 0.2);
        }

        .btn-next-milestone:hover {
            background: #0077ed;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 113, 227, 0.3);
        }

        .btn-next-milestone:after {
            content: "→";
            font-size: 1.2rem;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            font-size: 0.95rem;
        }

        th,
        td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e5e5e7;
            vertical-align: top;
        }

        th {
            background-color: #f5f5f7;
            font-weight: 600;
            color: #1d1d1f;
        }

        tr:last-child td {
            border-bottom: none;
        }

        .navigation-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 3rem 0 2rem;
            flex-wrap: wrap;
        }

        .btn-back {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: #f5f5f7;
            color: #1d1d1f;
            padding: 0.75rem 1.5rem;
            border-radius: 980px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-back:hover {
            background: #e8e8ed;
        }

        .btn-back:before {
            content: "←";
            font-size: 1.2rem;
        }

        .code-snippet {
            background: #1d1d1f;
            color: #f5f5f7;
            padding: 1rem 1.25rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        @media (max-width: 768px) {
            .project-details {
                padding: 1rem;
            }

            table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>

<body>
    <nav class="nav-bar">
        <div class="nav-container">
            <a href="../../index.html" class="nav-logo">Proxmox Server</a>
            <ul class="nav-links">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../projects.html" class="active">Projects</a></li>
                <!-- <li><a href="../../resume.html">Resume</a></li> -->
            </ul>
        </div>
    </nav>

    <main>
        <section class="projects-header">
            <h1>Hardware & System Design</h1>
        </section>

        <section class="project-details">
            <div class="section-card">
                <div class="content-block">
                    <h2>Hardware Procurement</h2>
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 20%;">Component</th>
                                <th style="width: 30%;">Specification</th>
                                <th style="width: 50%;">Rationale</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Processor</td>
                                <td>AMD Ryzen 9 3950X (16-core)</td>
                                <td>Utilized existing hardware, providing high thread count ideal for virtualization.
                                    Performance Boost Overdrive (PBO) was disabled. My workload doesn't require higher
                                    burst
                                    frequencies, so disabling it helps manage thermals and power consumption.
                                </td>
                            </tr>
                            <tr>
                                <td>Memory</td>
                                <td>64GB (4x16GB) 2133MHz ECC Unbuffered DDR4</td>
                                <td>Selected ECC to ensure data integrity with ZFS. Purchased used, which was cheaper
                                    than
                                    non-ECC 64GB kits at the time of procurement.</td>
                            </tr>
                            <tr>
                                <td>Motherboard</td>
                                <td>ASRock B550M Pro4</td>
                                <td>Chosen for its ECC support, ample I/O, and affordable mATX form factor. Utilized
                                    existing hardware.</td>
                            </tr>
                            <tr>
                                <td>VM Storage Pool</td>
                                <td>3x 1TB WD Red SA500 SATA SSDs</td>
                                <td>NAS-grade reliability with DRAM cache, selected due to a sale making them an
                                    affordable
                                    option in the realm of higher end SSDs.</td>
                            </tr>
                            <tr>
                                <td>Backup Storage</td>
                                <td>2x 4TB Seagate IronWolf HDDs</td>
                                <td>Dedicated storage for Proxmox Backup Server (PBS) to ensure data redundancy and
                                    long-term retention.</td>
                            </tr>
                            <tr>
                                <td>PVE Boot Drive</td>
                                <td>256GB Patriot NVMe SSD</td>
                                <td>Selected a name-brand boot drive without overspending.</td>
                            </tr>
                            <tr>
                                <td>Chassis/Cooling</td>
                                <td>Cooler Master NR400 / Thermalright PA 120 SE</td>
                                <td>The cooler offers high performance for cost, keeping the CPU cool and quiet. The
                                    chassis
                                    provides a compact size with high airflow, and supports the required drive bays (4x
                                    2.5"
                                    SSDs, 4x 3.5" HDDs).</td>
                            </tr>
                            <tr>
                                <td>Power Supply</td>
                                <td>Seasonic Focus GX 850W</td>
                                <td>Legendary 10 year warranty, 80+ Gold certification, and 850W power rating to support
                                    my
                                    storage devices and potentially a GPU for future AI use.</td>
                            </tr>
                            <tr>
                                <td>Graphics</td>
                                <td>NVIDIA GeForce GT 710</td>
                                <td>Required for POST and remote management. Highly available on the used market and
                                    affordable.</td>
                            </tr>
                            <tr>
                                <td>UPS</td>
                                <td>APC Back-UPS RS 1500G</td>
                                <td>Selected for its plentiful availability on the used market, affordable replacement
                                    batteries,
                                    and extensive community support for Network UPS Tools (NUT).</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section-card">
                <div class="content-block">
                    <h2>Proxmox VE (PVE) Base Installation & BIOS</h2>

                    <h3>BIOS Configuration</h3>
                    <ul>
                        <li><strong>Virtualization Support:</strong> Set SVM (Secure Virtual Machine) and IOMMU to ON
                            (required for virtualization and device passthrough).</li>
                        <li><strong>Power Management:</strong> Set Restore on Power Loss to ON. Enabled Power Delivery
                            when
                            OFF to ensure the JetKVM receives necessary power. Enabled Wake-on-LAN.</li>
                        <li><strong>Security:</strong> Enabled Secure Boot and TPM.</li>
                    </ul>

                    <h3>PVE Installation</h3>
                    <ul>
                        <li><strong>Remote Installation:</strong> PVE ISO was uploaded to the JetKVM for remote mounting
                            and
                            installation.</li>
                        <li><strong>GPU Driver Workaround:</strong> Installation initially failed due to the NVIDIA
                            graphics
                            card. This was resolved by appending the <code>nomodeset</code> kernel parameter to the
                            text-mode boot option, disabling all graphics drivers. This solution was found in the <a
                                href="https://pve.proxmox.com/pve-docs/pve-admin-guide.html#nomodeset_kernel_param">Proxmox
                                wiki</a>.</li>
                        <li><strong>Setup:</strong> Installed on the NVMe SSD with default settings, EXT4 filesystem,
                            and default network configuration.</li>
                    </ul>
                    <div class="image-grid">
                        <div class="screenshot-placeholder">
                            <img src="assets/section2/uploadiso.png" alt="JetKVM ISO Upload Screenshot 1">
                        </div>
                        <div class="screenshot-placeholder">
                            <img src="assets/section2/remoteboot.png" alt="JetKVM Remote Boot Screenshot">
                        </div>
                    </div>
                    <div class="image-grid">
                        <div class="screenshot-placeholder">
                            <img src="assets/section2/isoloaded.png" alt="Proxmox Install Screen Screenshot 1">
                        </div>
                        <div class="screenshot-placeholder">
                            <img src="assets/section2/textmode.png" alt="Proxmox Install Screen Screenshot 2">
                        </div>
                    </div>

                    <h3>Post-Install Configuration</h3>
                    <ul>
                        <li><strong>Networking:</strong> A DHCP reservation was created on the router to lock in the
                            host IP
                            (10.0.1.5).</li>
                        <li><strong>Security:</strong> Configured 2FA TOTP for the administrative user. Disabled the
                            paid
                            subscription repository.</li>
                        <li><strong>Remote Access:</strong> Immediately installed Tailscale on PVE with the
                            <code>curl -fsSL https://tailscale.com/install.sh | sh</code> command.
                        </li>
                    </ul>
                    <div class="screenshot-placeholder">
                        <img src="assets/section2/installed.png" alt="Proxmox Dashboard Screenshot">
                    </div>
                </div>
            </div>

            <div class="section-card">
                <div class="content-block">
                    <h2>High-Availability Storage Design (ZFS)</h2>
                    <p><strong>RAIDZ1 Pool:</strong> A RAIDZ1 array was created across the three NAS SATA SSDs. RAIDZ1
                        was
                        chosen for its balance of usable space and redundancy. While parity calculations do weaken
                        performance, my use case is not performance-critical and higher capacity is preferred. My CPU is
                        powerful enough to handle the
                        additional load.</p>
                    <p><strong>Alignment:</strong> ZFS block alignment was set to <code>ashift=12</code> for I/O
                        optimization.</p>
                    <p><strong>Capacity:</strong> The total available space after formatting was 1.75TB.</p>
                    <div class="screenshot-placeholder">
                        <img src="assets/section2/zfspool.png" alt="ZFS Pool Creation Screenshot">
                    </div>
                </div>
            </div>

            <div class="navigation-buttons">
                <a href="summary.html" class="btn-back">Back to Summary</a>
                <a href="remotemanagement.html" class="btn-next-milestone">Remote Management</a>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 Joseph Broda</p>
    </footer>
</body>

</html>